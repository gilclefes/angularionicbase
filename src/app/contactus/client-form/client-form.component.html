<!-- This is the proper way if you have submit button outside your ion-content form (typically in the ion-header or ion-footer) -->
<!-- (ref: https://github.com/ionic-team/ionic/issues/16661) -->

<app-header ptitle="Contact Us"></app-header>

<ion-content>
  <div>
    <form
      class="create-client-content"
      [formGroup]="createContactUsForm"
      (ngSubmit)="updateContactUs()"
    >
      <ion-row>
        <ion-col size="6" sizeMd="6" sizeXs="12" sizeXl="6">
          <ion-grid class="create-user-content">
            <section class="user-details-fields">
              <ion-list class="inputs-list" lines="full">
                <ion-item class="input-item">
                  <ion-input
                    label="Your Name"
                    labelPlacement="floating"
                    type="text"
                    formControlName="name"
                    placeholder="Enter your name"
                    required
                  ></ion-input>
                </ion-item>

                <div class="error-container">
                  <ng-container *ngFor="let validation of validations.name">
                    <div
                      class="error-message"
                      *ngIf="
                        createContactUsForm
                          .get('name')
                          .hasError(validation.type) &&
                        (createContactUsForm.get('name').dirty ||
                          createContactUsForm.get('name').touched)
                      "
                    >
                      <ion-icon name="information-circle-outline"></ion-icon>
                      <span>{{ validation.message }}</span>
                    </div>
                  </ng-container>
                </div>

                <ion-item class="input-item">
                  <ion-input
                    label="Your Email Address"
                    labelPlacement="floating"
                    type="email"
                    formControlName="email"
                    placeholder="Enter your email address"
                    required
                  ></ion-input>
                </ion-item>

                <div class="error-container">
                  <ng-container *ngFor="let validation of validations.email">
                    <div
                      class="error-message"
                      *ngIf="
                        createContactUsForm
                          .get('email')
                          .hasError(validation.type) &&
                        (createContactUsForm.get('email').dirty ||
                          createContactUsForm.get('email').touched)
                      "
                    >
                      <ion-icon name="information-circle-outline"></ion-icon>
                      <span>{{ validation.message }}</span>
                    </div>
                  </ng-container>
                </div>

                <ion-item class="input-item">
                  <ion-textarea
                    label="Your Message"
                    labelPlacement="floating"
                    type="text"
                    formControlName="message"
                    placeholder="Enter your message"
                    rows="5"
                    required
                  ></ion-textarea>
                </ion-item>

                <div class="error-container">
                  <ng-container *ngFor="let validation of validations.message">
                    <div
                      class="error-message"
                      *ngIf="
                        createContactUsForm
                          .get('message')
                          .hasError(validation.type) &&
                        (createContactUsForm.get('message').dirty ||
                          createContactUsForm.get('message').touched)
                      "
                    >
                      <ion-icon name="information-circle-outline"></ion-icon>
                      <span>{{ validation.message }}</span>
                    </div>
                  </ng-container>
                </div>
              </ion-list>
            </section>

            <ion-row class="form-actions-wrapper">
              <ion-col style="display: flex; justify-content: space-between">
                <ion-button
                  class="submit-btn"
                  color="secondary"
                  type="submit"
                  fill="solid"
                  [disabled]="!createContactUsForm.valid"
                  >Send Us
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
    </form>
  </div>
</ion-content>
